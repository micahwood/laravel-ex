"use strict";angular.module("jenasiteApp",["config","ngResource","ngRoute","ngAnimate","bootstrapLightbox"]).config(["$routeProvider","$locationProvider","LightboxProvider",function(a,b,c){b.html5Mode(!0),c.getImageCaption=function(a){return a.title},c.calculateModalDimensions=function(a){var b=Math.max(400,a.imageDisplayWidth+32);return(b>=a.windowWidth-20||a.windowWidth<768)&&(b="auto"),{width:b,height:"auto"}},c.templateUrl="views/lightbox.html",a.when("/",{templateUrl:"views/main.html"}).when("/work/:category?",{templateUrl:"views/gallery.html",controller:"GalleryCtrl as vm",resolve:{images:["$route","galleryLibrary",function(a,b){return b.getImages(a.current.params.category)}]}}).when("/about",{templateUrl:"views/about.html"}).when("/cv",{templateUrl:"views/resume.html",controller:"ResumeCtrl as vm",resolve:{resume:["resumeLibrary",function(a){return a.getResume()}]}}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","$window","$timeout",function(a,b,c,d){var e=function(){return b.path()},f=function(){c.ga("send","pageview",{page:e()}),d(function(){c.scrollTo(0,0)},500)};a.$watch(e,function(b){a.activetab=b}),a.$on("$routeChangeSuccess",f),a.isCollapsed=!0,a.toggleCollapse=function(){a.isCollapsed=!a.isCollapsed}}]),angular.module("config",[]).constant("ENV","production"),angular.module("jenasiteApp").controller("GalleryCtrl",["$scope","images","Lightbox",function(a,b,c){var d,e=this,f=!1;e.images=b.data,e.openLightboxModal=function(a){c.openModal(e.images,a)},e.setImage=function(a){d=a?a:null},e.toggleFade=function(a){return f&&a!==d},e.fadeImages=function(a){f=a}}]),angular.module("jenasiteApp").controller("ResumeCtrl",["$scope","$sce","resume",function(a,b,c){var d=this;d.resume=b.trustAsHtml(c.data.body)}]),angular.module("jenasiteApp").factory("galleryLibrary",["$http","ENV",function(a,b){var c="development"===b?"/images.json":"/image";return{getImages:function(b){return b=b||"current",a.get(c+"?category="+b)}}}]),angular.module("jenasiteApp").factory("resumeLibrary",["$http","ENV",function(a,b){var c="development"===b?"/resume.json":"/resume";return{getResume:function(){return a.get(c)}}}]);